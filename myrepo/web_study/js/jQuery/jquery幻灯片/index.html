<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="../jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="./main.css">
    <title>Title</title>
</head>
<script>
    $(document).ready(function () {
        var listNum = '<ul class="num">';
        var length = $(".wrapper .ul-img>li").length;
        var isRun = true;
        for (var i = 0; i < length; i++) {
            var indexNum = i + 1;
            var elem = "<li>" + indexNum + "</li>";
            listNum = listNum + elem;
        }
        $(".wrapper").append(listNum + "</ul>");

        var allNum = $(".wrapper .num>li").length;
        var mLeft = -(allNum * 20 + (allNum - 1) * 10)/2 + 'px';
        $(".wrapper ul.num").css("margin-left",mLeft);

        function slideShow(num){
            $(".wrapper .ul-img>li")
                .finish()
                .filter(':visible')
                .fadeOut()
                .end()
                .eq(num)
                .fadeIn(400)
                .css("display","block");

            $(".wrapper ul.num>li").removeClass("hover")
                .eq(num)
                .addClass("hover");
        }
        slideShow(0);

        $(".wrapper ul.num>li").mouseenter(function () {
            slideShow($(this).index());
        });

        function move() {
            if (isRun){
                if($(".wrapper ul.num>li.hover").next("li").length == 0 ){
                    $(".wrapper ul.num>li").eq(0).triggerHandler("mouseenter")
                }
                else{
                    $(".wrapper ul.num>li.hover").next("li").triggerHandler("mouseenter")
                }
            }
        }
        var timer = setInterval(move,3000);

        $(".wrapper .ul-img>li").mouseenter(function () {
            clearInterval(timer)
        });
        $(".wrapper .ul-img>li").mouseleave(function () {
            clearInterval(timer);
            timer = setInterval(move,3000)
        });
    })
</script>
<body>
    <div class="wrapper">
        <ul class="ul-img">
            <li ><img src="./images/img1.jpg" alt=""></li>
            <li><img src="./images/img2.jpg" alt=""></li>
            <li><img src="./images/img3.png" alt=""></li>
            <li><img src="./images/img4.jpg" alt=""></li>
            <li><img src="./images/img5.jpg" alt=""></li>
            <li><img src="./images/img6.jpg" alt=""></li>
            <li><img src="./images/img7.jpg" alt=""></li>
            <li><img src="./images/img1.jpg" alt=""></li>
            <li><img src="./images/img2.jpg" alt=""></li>
            <li><img src="./images/img3.png" alt=""></li>
            <li><img src="./images/img4.jpg" alt=""></li>
            <li><img src="./images/img5.jpg" alt=""></li>
            <li><img src="./images/img6.jpg" alt=""></li>
            <li><img src="./images/img7.jpg" alt=""></li>
        </ul>
    </div>
</body>
</html>