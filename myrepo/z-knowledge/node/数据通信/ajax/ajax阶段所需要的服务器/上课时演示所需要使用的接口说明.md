### ajax阶段上课演示接口说明

> 我们的课程ajax阶段需要使用到一些后台接口，这些接口我们预先创建好，下面是这些接口的简单说明
>
> 你们课后一定要根据这个接口文档进行相关的练习


#### api接口

##### 0：简单体验前台向后台发送请求

- 请求路径：http://127.0.0.1:3002/getinfo

- 请求方法：get

- 请求参数：无

- 响应数据(示例)

  ```tex
  '这是服务器返回的信息'
  ```

##### 1：验证用户名是否已经存在

- 请求路径：http://127.0.0.1:3002/validataUserName

- 请求方法：get

- 请求参数：

  | 参数名称 | 参数说明         | 备注               |
  | -------- | ---------------- | ------------------ |
  | name     | 需要验证的用户名 | 普通格式字符串类型 |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "用户名可用"
  }
  ```
##### 2：获取json格式数据

- 请求路径：http://127.0.0.1:3002/getjson

- 请求方法：get

- 请求参数：无

- 响应数据(示例)

  ```tex
  [
      {
          "img":"/images/0.jpg",
          "name":"张三"
      },
      {
          "img":"/images/1.jpg",
          "name":"李四"
      },
      {
          "img":"/images/2.jpg",
          "name":"王五"
      },
      {
          "img":"/images/3.jpg",
          "name":"赵六"
      },
      {
          "img":"/images/4.jpg",
          "name":"赵四"
      }
  ]
  ```

##### 3：获取xml格式数据

- 请求路径：http://127.0.0.1:3002/getxml

- 请求方法：get

- 请求参数：无

- 响应数据(示例)

  ```tex
  源格式：
  <?xml version='1.0' encoding='utf-8'?>
  <root>
      <items>
          <item>
              <img>/images/0.jpg</img>
              <name>张三</name>
          </item>
          <item>
              <img>/images/1.jpg</img>
              <name>李四</name>
          </item>
          <item>
              <img>/images/2.jpg</img>
              <name>王五</name>
          </item>
          <item>
              <img>/images/3.jpg</img>
              <name>赵六</name>
          </item>
      </items>
  </root>
  返回格式：#document
  ```

##### 4：注册案例获取6位数据验证码

- 请求路径：http://127.0.0.1:3002/getcode

- 请求方法：get

- 请求参数：无(讲道理，这里应该传入手机号码，只是后台现在只是演示，没有要求这么做)

- 响应数据(示例)

  ```tex
  {
      "code": ‘123456’
  }
  ```

##### 5：注册案例实现用户注册

- 请求路径：http://127.0.0.1:3002/doRegister

- 请求方法： post

- 请求参数：

  | 参数名称 | 参数说明 | 备注       |
  | -------- | -------- | ---------- |
  | username | 用户名   | 不能为null |
  | password | 密码     | 不能为null |
  | phone    | 手机号   | 不能为null |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "注册成功"
  }
  ```

##### 6：注册案例验证用户名是否已经存在

- 请求路径：http://127.0.0.1:3002/validataUserName

- 请求方法：get

- 请求参数：

  | 参数名称 | 参数说明         | 备注               |
  | -------- | ---------------- | ------------------ |
  | name     | 需要验证的用户名 | 普通格式字符串类型 |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "用户名可用"
  }
  ```

##### 7：模板引擎演示：获取用户数据

- 请求路径：http://127.0.0.1:3002/getalldata

- 请求方法：get

- 请求参数：无

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "获取数据成功",
      "data": [
          {
              "id": 1,
              "name": "jack",
              "gender": "男",
              "img": "1.jpg"
          },
          {
              "id": 2,
              "name": "rose",
              "gender": "女",
              "img": "4.jpg"
          }
      ]
  }
  ```

##### 8：图片上传(英雄案例中图片上传也是使用这个)

- 请求路径：http://127.0.0.1:3002/uploadFile

- 请求方法：post

- 请求参数：

  | 参数名称 | 参数说明           | 备注                   |
  | -------- | ------------------ | ---------------------- |
  | img      | 需要上传的图片数据 | 使用 FormData 包装对象 |

- 响应数据(示例)

  ```tex
  {
      "code":200,
      "msg":"上传成功",
      "img":"upload_8a7d8efedf740ffa2bab0abea9a75541.jpg"
  }
  ```

##### 9：“英雄”案例获取所有数据

- 请求路径：http://127.0.0.1:3002/getalldata

- 请求方法：get

- 请求参数：

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "获取数据成功",
      "data": [
          {
              "id": 1,
              "name": "jack",
              "gender": "男",
              "img": "1.jpg"
          },
          {
              "id": 2,
              "name": "rose",
              "gender": "女",
              "img": "4.jpg"
          }
      ]
  }
  ```

##### 10："英雄"案例实现新增用户信息

- 请求路径：http://127.0.0.1:3002/add

- 请求方法：post

- 请求参数：

  | 参数名称 | 参数说明    | 备注 |
  | -------- | ----------- | ---- |
  | name     | 用户名      |      |
  | gender   | 性别(男,女) |      |
  | img      | 图片名称    |      |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "新增成功"
  }
  ```

##### 11："英雄"案例实现用户编辑提交

- 请求路径：http://127.0.0.1:3002/edit

- 请求方法：post

- 请求参数：

  | 参数名称 | 参数说明    | 备注           |
  | -------- | ----------- | -------------- |
  | name     | 用户名      |                |
  | gender   | 性别(男,女) |                |
  | img      | 图片名称    |                |
  | id       | 当前用户id  | 必须，做为条件 |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "编辑成功"
  }
  ```

##### 12："英雄"案例实现删除单个用户

- 请求路径：http://127.0.0.1:3002/delete

- 请求方法：get

- 请求参数：

  | 参数名称 | 参数说明 | 备注 |
  | -------- | -------- | ---- |
  | id       | 用户id   |      |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "删除成功"
  }
  ```

##### 13："英雄"案例根据ID查询单个英雄数据

- 请求路径：http://127.0.0.1:3002/getHeroById

- 请求方法：get

- 请求参数：

  | 参数名称 | 参数说明 | 备注 |
  | -------- | -------- | ---- |
  | id       | 用户id   |      |

- 响应数据(示例)

  ```tex
  {
    gender: "男"
    id: 1
    img: "1.jpg"
    name: "jack"
  }
  ```



##### 14：获取所有用户列表数据

- 请求路径：http://127.0.0.1:3002/getUserList

- 请求方法：get

- 响应数据(示例)

  ```tex
  [
      {
          "username": "张三",
          "password": "123456",
          "phone": "110"
      },
      {
          "username": "李四",
          "password": "654321",
          "phone": "120"
      }
  ]
  ```



##### 15：实现简易用户注册

- 请求路径：http://127.0.0.1:3002/addUser

- 请求方法：post

- 请求参数：

  | 参数名称 | 参数说明 | 备注 |
  | -------- | -------- | ---- |
  | username | 用户名   | 必需 |
  | password | 密码     | 必需 |
  | phone    | 手机号   | 必需 |

- 响应数据(示例)

  ```tex
  {
    code:200,
    msg:'注册成功'
  }
  ```