<html>
<head>
  <title>oracle网络之listener.ora、tnsnames.ora、sqlnet.ora</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="518"/>
<h1>oracle网络之listener.ora、tnsnames.ora、sqlnet.ora</h1>

<div>
<span><div>oracle网络之listener.ora、tnsnames.ora、sqlnet.ora</div><div><span style="font-size: 13.5pt; color: rgb(54, 46, 43); font-weight: bold;-en-paragraph:true;">一、</span><span style="font-size: 13.5pt; color: rgb(54, 46, 43); font-weight: bold;-en-paragraph:true;">listener.ora</span></div><div><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">tnslsnr</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">进程是监听、并接受远程连接数据库请求的监听进程。</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">listener.ora</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">是</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">tnslsnr</span><span style="font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">进程的配置文件，监听的参数都是从该配置文件中读取，该文件位于服务端。</span></div><div><span style="font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">如果你只需要在本地连接数据库，不接受远程连接，那么也不需要启动</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">tnslsnr</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">进程，也不需要去维护</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">listener.ora</span><span style="font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">文件。</span></div><div><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">启动监听进程的命令，在命令模式下，执行</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">lsnrctl start</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">命令就启动了监听进程</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">tnslsnr</span><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">[oracle@oracle admin]$ cat listener.ora</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;"># listener.ora Network Configuration File: /oracle/11g/product/11.2.0/dbhome_1/network/admin/listener.ora</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;"># Generated by Oracle configuration tools.</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">LISTENER =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">  (DESCRIPTION_LIST =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    (DESCRIPTION =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">      (ADDRESS = (PROTOCOL = TCP)(HOST = 10.10.10.101)(PORT = 1521))</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    )</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">  )</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">ADR_BASE_LISTENER = /oracle/11g</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SID_LIST_LISTENER =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    (SID_LIST =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">        (SID_DESC =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">            (GLOBAL_DBNAME = orcl1)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">            (ORACLE_HOME = /oracle/11g/product/11.2.0/dbhome_1)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">            (SID_NAME =orcl)               </span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">        )</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    )</span></div></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><div><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Verdana, sans-serif; line-height: 19.5pt;">LISTENER</span><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">部分包含协议地址列表，每个实例一个入口。</span></div><div style="margin-bottom: 0.0001pt; background: white;"><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Verdana, sans-serif; line-height: 19.5pt;">SID_LIST_LISTENER</span><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">部分标识全局数据库名称、标识监听程序正在服务的每个实例的</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Verdana, sans-serif; line-height: 19.5pt;">Oracle</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">软件主目录以及实例或</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Verdana, sans-serif; line-height: 19.5pt;">SID</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">。</span></div><div><span style="font-size: 10.5pt; color: red; font-family: 微软雅黑, sans-serif;">当你执行命令</span><span style="font-size: 10.5pt; color: red; font-family: Arial, sans-serif;">sqlplus username/password@tnsname</span><span style="font-size: 10.5pt; color: red; font-family: 微软雅黑, sans-serif;">时，一般处理过程如下：</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">1</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">）</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">查询</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">sqlnet.ora</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">看看名称的解析方式，发现是</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">TNSNAME</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">，或者</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">hostname</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">。</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">2</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">）</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">则查询</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">tnsnames.ora</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">文件，从里边找</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">tnsname</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">的记录，并且找到主机名，端口和</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">service_name</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">。</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">3</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">）</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">如果</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">listener</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">进程没有问题的话，建立与</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">listener</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">进程的连接。</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">4</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">）</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">根据不同的服务器模式如专用服务器模式或者共享服务器模式，</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">listener</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">采取接下去的动作。默认是专用服务器模式，没有问题的话客户端就连接上了数据库的</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">server process</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">。</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">5</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">）</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">这时候网络连接已经建立，</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">listener</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">进程的历史使命也就完成了。</span></div><div><span style="font-size: 10.5pt; color: red; font-family: 微软雅黑, sans-serif;">几种连接数据库用到的命令形式：</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">1)sqlplus &quot;/ as sysdba&quot;</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">这是典型的操作系统认证，不需要</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">listener</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">进程，数据库即使不可用也可以登录。</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">2)sqlplus username/password</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">不需要</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">listener</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">进程，登录本机数据库，数据库实例启动即可。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">3)sqlplus username/password@tnsname</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">需要</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">listener</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">进程，最常见的远程登录模式，需要启动数据库实例和</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">listener</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">进程。</span></div><div><br/></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">二、tnsname.ora</span></font></div></div><div><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 107%;">tnsnames.ora</span> <span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 107%;">用在</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 107%;">oracle client</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 107%;">端，用户配置连接数据库的别名参数</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 107%;">,</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 107%;">就像系统中的</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 107%;">hosts</span><span style="font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 107%;">文件一样。提供了客户端连接某个数据库的详细信息，主机地址，端口，数据库实例名等。</span></div><div><br/></div><div><span style="font-size: 14px; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">示例</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">[oracle@mysql-master-1003306 admin]$ cat tnsnames.ora</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;"># tnsnames.ora Network Configuration File: /oracle/11g/product/11.2.0/dbhome_1/network/admin/tnsnames.ora</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;"># Generated by Oracle configuration tools.</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">ORA01 =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">  (DESCRIPTION =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    (ADDRESS = (PROTOCOL = TCP)(HOST = 10.10.10.101)(PORT = 1521))</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    (CONNECT_DATA =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">      (SERVER = DEDICATED)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">      (SERVICE_NAME = oracle.orcl)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    )</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">  )</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">orcl1 =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">  (DESCRIPTION =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    (ADDRESS = (PROTOCOL = TCP)(HOST = 10.10.10.101)(PORT = 1521))</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    (CONNECT_DATA =</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">      (SERVER = DEDICATED)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">      (SERVICE_NAME = orcl1)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    )</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">  )</span></div></div><div><br/></div><div><span style="font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: normal;">PROTOCOL</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: normal;">参数一般是</span><span style="font-size: 10.5pt; background: white; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: normal;">TCP</span><span style="font-size: 10.5pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: normal;">，可以根据服务器情况选择一种配置方式。</span></div><div style="margin-bottom: 0.0001pt; background: white;"><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 19.5pt;">HOST</span> <span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">一般是</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 19.5pt;">ip</span><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">地址，如果是主机名，则应该在客户端系统的</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 19.5pt;">host</span><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">文件上配好主机名和</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 19.5pt;">ip</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">地址的映射关系。</span></div><div style="margin-bottom: 0.0001pt; background: white;"><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 19.5pt;">PORT</span> <span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">标准是</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 19.5pt;">1521</span><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">，根据服务器端的监听端口而定。</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 107%;">SERVICE_NAME</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 107%;">就是数据库的服务名。</span><span style="font-size: 10.5pt; font-family: 微软雅黑, sans-serif; line-height: 107%;"><font style="color: rgb(227, 0, 0);">对应服务器端listener.ora文件里面的<span style="font-size: 11pt; font-family: 微软雅黑, sans-serif; line-height: 107%;">GLOBAL_DBNAME的值，或者lsnrctl status查到的service name；</span></font></span></div><div><br/></div><div><br/></div><div><span style="font-size: 13.5pt; color: rgb(54, 46, 43); font-weight: bold;-en-paragraph:true;">三、</span><span style="font-size: 13.5pt; color: rgb(54, 46, 43); font-weight: bold;-en-paragraph:true;">sqlnet.ora</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 107%;">sqlnet.ora</span> <span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 107%;">用在</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 107%;">oracle client</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 107%;">端，用于配置连接服务端</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; line-height: 107%;">oracle</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 107%;">的相关参数</span></div><div><br/></div><div><span style="font-size: 14px; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">示例</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">[oracle@mysql-master-1003306 admin]$ cat sqlnet.ora</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;"># sqlnet.ora Network Configuration File: /oracle/11g/product/11.2.0/dbhome_1/network/admin/sqlnet.ora</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;"># Generated by Oracle configuration tools.</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">NAMES.DIRECTORY_PATH= (TNSNAMES, EZCONNECT)</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">ADR_BASE = /oracle/11g</span></div></div><div><br/></div><div><span style="background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif; font-weight: bold; line-height: 19.5pt;">NAMES.DIRECTORY_PATH</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; font-weight: bold; line-height: 19.5pt;">：</span><span style="background: white; font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif; line-height: 19.5pt;">定义了在客户端连接数据库时，采用什么样的匹配方式。</span></div><div style="margin-bottom: 0.0001pt; background: white;"><span style="background: white; font-size: 10.5pt; line-height: 19.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">示例：</span><span style="background: white; font-size: 10.5pt; line-height: 19.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">NAMES.DIRECTORY_PATH= (TNSNAMES, ONAMES, HOSTNAME)</span></div><div><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">那么在客户端执行</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">sqlplus username/password@local_dev</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">连接数据库的时，首先采用</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">tnsnames.ora</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">的别名配置连接数据库；如果连接上；再采用</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;">ONAMES</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;">进行解析，最后采用主机名进行解析。</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">ONAMES</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">表示</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">Oracle</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">使用自己的名称服务器（</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">Oracle Name Server</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">）来解析，目前</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">Oracle</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">建议使用轻量目录访问协议</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">LDAP</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">来取代</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">ONAMES;HOSTNAME</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">表示使用</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">host</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">文件，</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">DNS</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">，</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: Arial, sans-serif;-en-paragraph:true;">NIS</span><span style="font-size: 10.5pt; color: rgb(54, 46, 43); font-family: 微软雅黑, sans-serif;-en-paragraph:true;">等来解析；</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 