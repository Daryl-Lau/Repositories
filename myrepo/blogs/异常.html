<html>
<head>
  <title>异常</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="803"/>
<h1>异常</h1>

<div>
<span><div>异常</div><div><br/></div><div><span style="font-weight: bold;">什么是异常</span></div><div>    异常指的是程序在没有语法错误的前提下，在运行期间产生的特定错误。每个特定错误都对应一个异常类对象。当产生某个特定错误时，其异常类对象的实例对象就会被抛出，如果在程序中对抛出的异常实例对象不进行捕获和处理，程序就会停止运行，并且答应错误的详细信息，包括：</div><div>1、Traceback，指的是异常调用堆栈的跟踪信息，其中列出了程序中的相关行数；</div><div>2、对应的异常类对象的名称以及错误信息；</div><div>    </div><div>如果在程序中对抛出的异常实例对象进行捕获和处理，程序就会继续运行。</div><div><br/></div><div>哪些特定的错误会被看做是异常，首先Python内置了很多异常类对象，其次，可以自定义异常类对象，所以，内置的异常类对象和自定义的异常类对象对应的错误会被看做异常。</div><div><br/></div><div>内置的异常类对象，<a href="https://docs.python.org/3.7/library/exceptions.html">https://docs.python.org/3.7/library/exceptions.html</a></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">BaseException</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">+-- SystemExit</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">+-- KeyboardInterrupt</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">+-- GeneratorExit</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">+-- Exception</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- StopIteration</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- StopAsyncIteration</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- ArithmeticError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- FloatingPointError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- OverflowError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- ZeroDivisionError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- AssertionError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- AttributeError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- BufferError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- EOFError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- ImportError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- ModuleNotFoundError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- LookupError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- IndexError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- KeyError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- MemoryError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- NameError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- UnboundLocalError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- OSError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- BlockingIOError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- ChildProcessError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- ConnectionError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    |    +-- BrokenPipeError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    |    +-- ConnectionAbortedError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    |    +-- ConnectionRefusedError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    |    +-- ConnectionResetError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- FileExistsError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- FileNotFoundError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- InterruptedError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- IsADirectoryError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- NotADirectoryError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- PermissionError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- ProcessLookupError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- TimeoutError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- ReferenceError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- RuntimeError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- NotImplementedError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- RecursionError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- SyntaxError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- IndentationError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |         +-- TabError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- SystemError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- TypeError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- ValueError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |    +-- UnicodeError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |         +-- UnicodeDecodeError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |         +-- UnicodeEncodeError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      |         +-- UnicodeTranslateError</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      +-- Warning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- DeprecationWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- PendingDeprecationWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- RuntimeWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- SyntaxWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- UserWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- FutureWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- ImportWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- UnicodeWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- BytesWarning</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">           +-- ResourceWarning</span></div></div><div><br/></div><div>所有内置异常类对继承自Exception</div><div><br/></div><div><span style="font-weight: bold;">try-except捕获处理异常</span></div><div>程序在运行期间产生异常时，为了让程序能够继续执行，可以对抛出的异常实例对象进行捕获和处理，这是通过try-except语句实现的：把可能会产生异常的代码放在try语句块中以捕获异常实例对象，把处理异常的代码放在由若干个except子句组成的except语句块中。</div><div><br/></div><div>语法格式：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>try:</div><div>    可能会产生异常的代码</div><div>except 异常类对象1:</div><div>    当前except子句处理的代码</div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象2：</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象n：</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div></div><div><img src="异常_files/Image.png" type="image/png" data-filename="Image.png" width="400"/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    i =</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">1</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">/</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">0</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'0不能作为除数'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div></div><div><br/></div><div>如果抛出的异常实例对象所对应的类对象是except子句中异常类对象的子类，那么该except子句也会被匹配。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    i =</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">1</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">/</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">0</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ArithmeticError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:     </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; font-size: 9pt;"><font color="#0000FF"># <span style="font-family: &quot;DejaVu Sans Mono&quot;; font-size: 9pt;">ArithmeticError是<span style="font-family: &quot;DejaVu Sans Mono&quot;; font-size: 9pt;">ZeroDivisionError的父类</span></span></font><font color="#008000">      </font></span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'数学错误'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div></div><div><br/></div><div>当try语句块产生异常时，会从上到下依次查找是否有匹配的子句，只要找到一个匹配的except子句，则不会查找剩余的except子句，因此一定要注意各个except子句的顺序</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    i =</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">1</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">/</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">0</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ArithmeticError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'数学错误'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'0不能作为除数'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">[root@lyucan ~]# ./yc.py</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">数学错误</span></div></div><div><br/></div><div>当多个异常类对象所对应的异常处理代码完全相同时， 可以把这些异常类对象以元组的形式放在一个except子句中。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    i =</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">1</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">/</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">0</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">,</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">TypeError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">):</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'运行出错了'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">使用as访问异常</span></div><div>如果想在匹配到的except子句中访问异常实例对象，可以在except子句的冒号前添加关键字as和一个变量。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    i =</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">1</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">/</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">0</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">, </span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">TypeError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">as</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">err:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">type</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(err))</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(err)</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">[root@lyucan ~]# ./yc.py</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">&lt;class 'ZeroDivisionError'&gt;</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">division by zero</span></div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">使用Exception捕获其他异常</span></div><div>为了在except语句块中将所有的异常类对象尽可能的覆盖到，可以将最后一个except子句中的异常类对象指定为Exception（内置异常类对象和自定义异常类对象都继承自Exception），或者在最后一个except子句中不指定异常类对象。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    i =</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">int</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'abc'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">,</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">TypeError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">):</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'除0错误和值错误'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">Exception</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:               </span><span style="font-family: &quot;DejaVu Sans Mono&quot;; font-size: 9pt;"><font color="#0000FF"># 这里也可以不指定异常类对象，直接使用 except:</font></span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'其他错误'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">使用else从句</span></div><div>可以在while语句或for-in语句的后面添加else语句，类似的，可以在 try-except语句后面添加else从句。</div><div>语法格式：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">try:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    可能会产生异常的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象1:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象2：</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象n：</span></div><div><span style="font-family: Monaco; font-size: 9pt;">    当前except子句处理的代码</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">else:</span></div><div><span style="font-family: Monaco;font-size: 9pt;color: rgb(51, 51, 51);background-color: rgb(255, 250, 165);-evernote-highlight:true;">    try语句块中没有产生异常时执行的代码</span></div></div><div><br/></div><div><img src="异常_files/Image [1].png" type="image/png" data-filename="Image.png" width="470"/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">使用finally从句</span></div><div>    可以在try-except语句的后面添加finally从句，finally从句总会被执行，通常在finally从句中释放资源，例如：关闭文件、关闭网络连接等。</div><div><br/></div><div>语法格式：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">try:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    可能会产生异常的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象1:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象2：</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象n：</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div>finally:</div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    总会被执行的代码</span></div></div><div><img src="异常_files/Image [2].png" type="image/png" data-filename="Image.png" width="395"/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">同时具有else和finally从句</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">try:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    可能会产生异常的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象1:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象2：</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">...</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">except 异常类对象n：</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    当前except子句处理的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">else:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    try语句块中没有产生异常时执行的代码</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">finally:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    总会被执行的代码</span></div></div><div><img src="异常_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">使用raise语句手动抛出异常</span></div><div>    对于前面课程中的示例，在发生异常时的异常实例对象都是被自动抛出的，我们可以使用raise语句手动的抛出异常实例对象，</div><div>语法格式为：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>raise 异常类对象[([参数])]</div><div><br/></div><div>如果没有传入参数，可以省略小括号</div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: DejaVu Sans Mono; font-size: 9pt; color: rgb(0, 0, 255);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'0不能作为除数'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div><div><br style="font-family: DejaVu Sans Mono; font-size: 9pt; color: rgb(0, 0, 255);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">()</span></div><div><br style="font-family: DejaVu Sans Mono; font-size: 9pt; color: rgb(0, 0, 255);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: DejaVu Sans Mono; font-size: 9pt; color: rgb(0, 0, 255);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'0不能作为除数'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">[root@lyucan ~]# ./yc.py</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">0不能作为除数</span></div></div><div><br/></div><div>如果在except语句块中不想对异常实例对象进行处理，可以使用关键字raise将其原样抛出，或者抛出另外一个异常类对象的实例对象。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">[root@lyucan ~]# ./yc.py</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">Traceback (most recent call last):</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">  File &quot;./yc.py&quot;, line 4, in &lt;module&gt;</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    raise ZeroDivisionError</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">ZeroDivisionError</span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ValueError</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'值错误'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">[root@lyucan ~]# ./yc.py</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">Traceback (most recent call last):</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">  File &quot;./yc.py&quot;, line 4, in &lt;module&gt;</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    raise ZeroDivisionError</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">ZeroDivisionError</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">During handling of the above exception, another exception occurred:</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">Traceback (most recent call last):</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">  File &quot;./yc.py&quot;, line 6, in &lt;module&gt;</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    raise ValueError('值错误')</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">ValueError: 值错误</span></div></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">自定义异常</span></div><div>    尽管python内置的异常类对象可以满足我们绝大多数的需求，但是有时候我们可能想要创建自定义的异常类对象。正如所有内置异常类对象的基类是Exception，自定义异常类对象只需要继承Exception或其子类。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">class</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">MyException</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">Exception</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">):</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">def</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">__call__</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(self):</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">       </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'自定义异常'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">raise</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">MyException</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">MyException</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">as</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">err:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    err()</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">[root@lyucan ~]# ./yc.py</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">自定义异常</span></div></div><div><br/></div><div><b>异常和函数</b></div><div>当函数内发生异常时，异常实例对象会被抛给该函数的调用者，如果该函数的调用者没有捕获和处理，则继续抛给上一撑的调用者，这样一直向上抛，最后会被Python解释器捕获。</div><div>在异常实例对象在向上抛的过程中，可以选择合适的层对异常实例对象进行捕获和处理，而不需要在每一层进行捕获和处理。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 0, 255); font-size: 9pt;">#!/usr/bin/python3</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">def</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">f1</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">():</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">1</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">/</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">0</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">def</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">f2</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">():</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">try</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">        f1()</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">   </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">except</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 100, 0); font-size: 9pt;">ZeroDivisionError</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">as</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">err:</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">       </span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(err)</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(200, 175, 0); font-size: 9pt;">def</span> <span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">f3</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">():</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">    f2()</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">f3()</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 205, 205); font-size: 9pt;">print</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">(</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(187, 0, 0); font-size: 9pt;">'继续执行代码'</span><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">)</span></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">[root@lyucan ~]# ./yc.py</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">division by zero</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 9pt;">继续执行代码</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 