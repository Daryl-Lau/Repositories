<html>
<head>
  <title>配置sqlplus输出格式及提示符显示数据库和登录用户</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="478"/>
<h1>配置sqlplus输出格式及提示符显示数据库和登录用户</h1>

<div>
<span><div>配置sqlplus输出格式及提示符显示数据库和登录用户</div><div><br/></div><div>每次登录sqlplus 时，会先执行$ORACLE_HOME/sqlplus/glogin.sql 或者当前目录的login.sql 脚本。</div><div>创建login.sql脚本</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[oracle@mysql-master-1003306 admin]$ cat login.sql</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set serveroutput on size 1000000</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set trimspool on</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set long 5000</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set linesize 100</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set pagesize 9999</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set linesize 154</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col GROUP# for 99</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col THREAD# for 99</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col SEQUENCE# for 9999</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col MEMBER for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col MEMBERS for 99</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col name for a35</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col username for a15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col file_name for a45</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col tablespace_name for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col MACHINE for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col program for a34</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col sid for 9999</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col spid for a8</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">--col value for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col COMMENTS for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col object_owner for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col object_name for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col TABLE_OWNER for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col TABLE_NAME for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col COLUMN_NAME for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col owner for a15;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col table_owner for a15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col index_type for a10</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col DB_BLOCK_SIZE for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col UNDO_RETENTION for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col sql_text for a74</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col text for a60</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col r_owner for a15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col index_owner for a15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col GRANTEE for a15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col GRANTOR for a15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col PRIVILEGE for a35</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col PROPERTY_VALUE for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col LAST_RUN_DURATION for a28</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col DEST_NAME for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col DESTINATION for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col PLAN_TABLE_OUTPUT for a130</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col SCHEMA_NAME for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col OCCUPANT_NAME for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col MOVE_PROCEDURE for a35</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col DESCRIPTION for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col p1 for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col p2 for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col p3 for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col p3text for a46</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col p2text for a46</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col OPERATION for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col OPTIONS for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col statement for a88</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col object for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col error for a35</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col ARCHIVE_NAME for a40</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col segment_name for a25</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col segment_type for a25</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col COMPONENT for a25</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col parameter1 for a35</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col parameter2 for a35</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col parameter3 for a35</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col sql_redo for a90</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col sql_undo for a90</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col log_user for a10</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col priv_user for a10</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col schema_user for a11</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col INTERVAL for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col what for a48</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col seg_name for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col SQL_REDO for a90</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col pval2 for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col event for a50</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col dest_name for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col p1 for 99999999999999</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col p2 for 99999999999999</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col p3 for 99999999999999</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col maxbytes for 999999999999999999</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col MODE_REQUESTED for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col MODE_HELD for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col OPERATION for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col options for a30</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">--调度相关</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">COL JOB_NAME for A15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">COL JOB_CREATOR for A11</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">COL PROGRAM_OWNER for A11</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">COL PROGRAM_NAME FOR A12</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">COL SCHEDULE_NAME FOR A15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">COL SCHEDULE_OWNER FOR A14;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col SCHEDULE_TYPE for a13</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">COL RESOURCE_PLAN FOR A13;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">COL JOB_CLASS FOR A20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col START_DATE for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col END_DATE FOR a19</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col PROGRAM_ACTION for a45</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col COMMENTS for a15</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col WINDOW_NAME for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col REPEAT_INTERVAL for a22</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col DURATION for a20</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col NEXT_START_DATE for a18</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col DURATION for a8</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col LAST_START_DATE for a18</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col job_action for a10</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">col job_type for a10</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">column plan_plus_exp format a80</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">column global_name new_value gname</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set termout off</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">define gname=idle</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">column global_name new_value gname</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">select lower(user) || '@' || substr( global_name, 1, decode( dot, 0,length(global_name), dot-1) ) global_name</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">from (select global_name, instr(global_name,'.') dot from global_name );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set sqlprompt '&amp;gname&gt; '</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">set termout on</span></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[oracle@oracle admin]$ echo '@@login.sql' &gt;&gt; $ORACLE_HOME/sqlplus/admin/glogin.sql</span></div></div><div><br/></div></span>
</div></body></html> 