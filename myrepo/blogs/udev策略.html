<html>
<head>
  <title>udev策略</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="419"/>
<h1>udev策略</h1>

<div>
<span><div><div>udev策略</div><div><span style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);-en-paragraph:true;"><br/></span></div><div><span style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);-en-paragraph:true;">这篇文章主要介绍在</span><a href="https://www.linuxidc.com/topicnews.aspx?tid=12" style="color: rgb(179, 43, 213); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); text-decoration: underline;-en-paragraph:true;" title="Oracle">Oracle</a><span style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);-en-paragraph:true;"> </span><span style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);-en-paragraph:true;">Linux 7中如何使用udev来设置用户自定义的设备名。在Oracle Linux 7 中的设置方法与之前的Linux版本有较大差别。</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>下面的例子的对/dev/sdb,/dev/sdc通过设置udev rules来创建用户定义的设备名称</div><div>1.查看Linux版本 </div><div>[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> ~]# uname -a</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">Linux <a href="http://linuxidc.com/">linuxidc.com</a> 3.8.13-55.1.6.el7uek.x86_64 #2 SMP Wed Feb 11 14:18:22 PST 2015 x86_64  x86_64 x86_64 GNU/Linux</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>2.查找设备的UUID </div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> ~]# fdisk -l</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>Disk /dev/sdb: 5368 MB, 5368709120 bytes, 10485760 sectors</div><div>Units = sectors of 1 * 512 = 512 bytes</div><div>Sector size (logical/physical): 512 bytes / 512 bytes</div><div>I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div>Disk label type: dos</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">Disk identifier: 0x41b4373b</span></div><div style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);-en-paragraph:true;">Device Boot      Start        End      Blocks  Id  System</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>Disk /dev/sda: 53.7 GB, 53687091200 bytes, 104857600 sectors</div><div>Units = sectors of 1 * 512 = 512 bytes</div><div>Sector size (logical/physical): 512 bytes / 512 bytes</div><div>I/O size (minimum/optimal): 512 bytes / 512 bytes</div><div>Disk label type: dos</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">Disk identifier: 0x000209aa</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>  Device Boot      Start        End      Blocks  Id  System</div><div>/dev/sda1  *        2048    1026047      512000  83  Linux</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">/dev/sda2        1026048  104857599    51915776  8e  Linux LVM</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>Disk /dev/sdc: 5368 MB, 5368709120 bytes, 10485760 sectors</div><div>Units = sectors of 1 * 512 = 512 bytes</div><div>Sector size (logical/physical): 512 bytes / 512 bytes</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div><br/></div><div>Disk /dev/mapper/ol-root: 47.7 GB, 47747956736 bytes, 93257728 sectors</div><div>Units = sectors of 1 * 512 = 512 bytes</div><div>Sector size (logical/physical): 512 bytes / 512 bytes</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div><br/></div><div>Disk /dev/mapper/ol-swap: 5368 MB, 5368709120 bytes, 10485760 sectors</div><div>Units = sectors of 1 * 512 = 512 bytes</div><div>Sector size (logical/physical): 512 bytes / 512 bytes</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">I/O size (minimum/optimal): 512 bytes / 512 bytes</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# /usr/lib/udev/scsi_id -g -u /dev/sdb</div><div>36000c294ae49672e100c14f8d1708ba0</div><div>[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# /usr/lib/udev/scsi_id -g -u /dev/sdc</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">36000c2952e94e2262a0c351bbb9817eb</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>注意:如果是使用vmvare虚拟机，那么显示uuid需要在vmx文件中增加disk.enableUUID = &quot;TRUE&quot;,我这里使用了是vmvare虚拟机，在相应的虚拟机的vmx文件增加了disk.enableUUID = &quot;TRUE&quot; </div><div>~ # vi/vmfs/volumes/581c05d5-12b526b2-f04f- 5c260afd5108/oracle_linux7_1/oracle_linux7_1.vmx</div><div>.encoding = &quot;UTF-8&quot;</div><div>disk.EnableUUID=&quot;TRUE&quot;</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">...省略...</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>3.创建新的udev rule </div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# vi /etc/udev/rules.d/99-my-asmdevices.rules</span></div><div style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);-en-paragraph:true;">KERNEL==&quot;sd*[!0-9]&quot;, ENV{DEVTYPE}==&quot;disk&quot;, SUBSYSTEM==&quot;block&quot;,  PROGRAM==&quot;/usr/lib/udev/scsi_id -g -u -d $devnode&quot;,  RESULT==&quot;36000c294ae49672e100c14f8d1708ba0&quot;, RUN+=&quot;/bin/sh -c 'mknod /dev/asmdisk01 b  $major $minor; chown grid:oinstall /dev/asmdisk01; chmod 0660 /dev/asmdisk01'&quot;</span></div><div style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252); margin-top: 1em; margin-bottom: 1em;"><span style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);-en-paragraph:true;">KERNEL==&quot;sd*[!0-9]&quot;, ENV{DEVTYPE}==&quot;disk&quot;, SUBSYSTEM==&quot;block&quot;,  PROGRAM==&quot;/usr/lib/udev/scsi_id -g -u -d $devnode&quot;,  RESULT==&quot;36000c2952e94e2262a0c351bbb9817eb&quot;, RUN+=&quot;/bin/sh -c 'mknod /dev/asmdisk02 b  $major $minor; chown grid:oinstall /dev/asmdisk02; chmod 0660 /dev/asmdisk02'&quot;</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>4.测试新的udev rule</div><div>执行以下命令或重启来验证新的udev rule</div><div> 4.1 检查新的设备名称: </div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# /sbin/udevadm trigger --type=devices --action=change</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# ls -lrt asm*</div><div>brw-rw----. 1 grid oinstall 8, 32 Dec 15 18:32 asmdisk02</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">brw-rw----. 1 grid oinstall 8, 16 Dec 15 18:32 asmdisk01</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>4.2 为了重新加载udev rule执行以下命令: </div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# /sbin/udevadm control --reload</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>4.3为了诊断udev rule执行以下命令: </div><div>[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# /sbin/udevadm test /sys/block/sdb</div><div>calling: test</div><div>version 208</div><div>This program is for debugging only, it does not run any program</div><div>specified by a RUN key. It may show incorrect results, because</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">some values may be different, or not available at a simulation run.</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>=== trie on-disk ===</div><div>tool version:          208</div><div>file size:        6376691 bytes</div><div>header size            80 bytes</div><div>strings            1401963 bytes</div><div>nodes              4974648 bytes</div><div>load module index</div><div>read rules file: /usr/lib/udev/rules.d/10-dm.rules</div><div>read rules file: /usr/lib/udev/rules.d/100-balloon.rules</div><div>read rules file: /usr/lib/udev/rules.d/11-dm-lvm.rules</div><div>read rules file: /usr/lib/udev/rules.d/11-dm-mpath.rules</div><div>read rules file: /usr/lib/udev/rules.d/13-dm-disk.rules</div><div>read rules file: /usr/lib/udev/rules.d/40-libgphoto2.rules</div><div>IMPORT found builtin 'usb_id --export %%p', replacing /usr/lib/udev/rules.d/40- libgphoto2.rules:11</div><div>read rules file: /usr/lib/udev/rules.d/40-<a href="https://www.linuxidc.com/topicnews.aspx?tid=10" style="color: rgb(179, 43, 213); text-decoration: underline;" title="RedHat">RedHat</a>.rules</div><div>read rules file: /usr/lib/udev/rules.d/40-usb-media-players.rules</div><div>read rules file: /usr/lib/udev/rules.d/40-usb_modeswitch.rules</div><div>read rules file: /usr/lib/udev/rules.d/42-usb-hid-pm.rules</div><div>read rules file: /usr/lib/udev/rules.d/50-rbd.rules</div><div>read rules file: /usr/lib/udev/rules.d/50-udev-default.rules</div><div>read rules file: /usr/lib/udev/rules.d/56-hpmud.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-alias-kmsg.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-cdrom_id.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-fprint-autosuspend.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-keyboard.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-net.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-persistent-alsa.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-persistent-input.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-persistent-serial.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-persistent-storage-tape.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-persistent-storage.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-persistent-v4l.rules</div><div>read rules file: /usr/lib/udev/rules.d/60-raw.rules</div><div>read rules file: /usr/lib/udev/rules.d/61-accelerometer.rules</div><div>read rules file: /usr/lib/udev/rules.d/61-gnome-bluetooth-rfkill.rules</div><div>read rules file: /usr/lib/udev/rules.d/62-multipath.rules</div><div>read rules file: /usr/lib/udev/rules.d/63-md-raid-arrays.rules</div><div>read rules file: /usr/lib/udev/rules.d/64-btrfs.rules</div><div>read rules file: /usr/lib/udev/rules.d/65-libwacom.rules</div><div>read rules file: /usr/lib/udev/rules.d/65-md-incremental.rules</div><div>read rules file: /usr/lib/udev/rules.d/65-sane-backends.rules</div><div>read rules file: /usr/lib/udev/rules.d/69-cd-sensors.rules</div><div>IMPORT found builtin 'usb_id --export %p', replacing /usr/lib/udev/rules.d/69-cd- sensors.rules:89</div><div>read rules file: /usr/lib/udev/rules.d/69-dm-lvm-metad.rules</div><div>read rules file: /usr/lib/udev/rules.d/69-libmtp.rules</div><div>read rules file: /usr/lib/udev/rules.d/69-xorg-vmmouse.rules</div><div>read rules file: /etc/udev/rules.d/70-persistent-ipoib.rules</div><div>read rules file: /usr/lib/udev/rules.d/70-power-switch.rules</div><div>read rules file: /usr/lib/udev/rules.d/70-printers.rules</div><div>read rules file: /usr/lib/udev/rules.d/70-spice-vdagentd.rules</div><div>read rules file: /usr/lib/udev/rules.d/70-touchpad-quirks.rules</div><div>read rules file: /usr/lib/udev/rules.d/70-uaccess.rules</div><div>read rules file: /usr/lib/udev/rules.d/70-wacom.rules</div><div>read rules file: /usr/lib/udev/rules.d/71-biosdevname.rules</div><div>read rules file: /usr/lib/udev/rules.d/71-seat.rules</div><div>read rules file: /usr/lib/udev/rules.d/73-idrac.rules</div><div>read rules file: /usr/lib/udev/rules.d/73-seat-late.rules</div><div>read rules file: /usr/lib/udev/rules.d/75-net-description.rules</div><div>read rules file: /usr/lib/udev/rules.d/75-probe_mtd.rules</div><div>read rules file: /usr/lib/udev/rules.d/75-tty-description.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-ericsson-mbm.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-huawei-net-port-types.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-longcheer-port-types.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-nokia-port-types.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-pcmcia-device-blacklist.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-platform-serial-whitelist.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-simtech-port-types.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-telit-port-types.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-usb-device-blacklist.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-usb-serial-adapters-greylist.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-x22x-port-types.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-mm-zte-port-types.rules</div><div>read rules file: /usr/lib/udev/rules.d/77-nm-olpc-mesh.rules</div><div>read rules file: /usr/lib/udev/rules.d/78-sound-card.rules</div><div>read rules file: /usr/lib/udev/rules.d/80-drivers.rules</div><div>read rules file: /usr/lib/udev/rules.d/80-kvm.rules</div><div>read rules file: /usr/lib/udev/rules.d/80-mm-candidate.rules</div><div>read rules file: /usr/lib/udev/rules.d/80-net-name-slot.rules</div><div>read rules file: /usr/lib/udev/rules.d/80-udisks2.rules</div><div>read rules file: /usr/lib/udev/rules.d/81-kvm-rhel.rules</div><div>read rules file: /usr/lib/udev/rules.d/85-regulatory.rules</div><div>read rules file: /usr/lib/udev/rules.d/85-usbmuxd.rules</div><div>read rules file: /usr/lib/udev/rules.d/90-alsa-restore.rules</div><div>read rules file: /usr/lib/udev/rules.d/90-alsa-tools-firmware.rules</div><div>read rules file: /usr/lib/udev/rules.d/90-iprutils.rules</div><div>read rules file: /usr/lib/udev/rules.d/90-pulseaudio.rules</div><div>read rules file: /usr/lib/udev/rules.d/90-vconsole.rules</div><div>read rules file: /usr/lib/udev/rules.d/91-drm-modeset.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-cd-devices.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-dm-notify.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-udev-late.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-battery-recall-dell.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-battery-recall-fujitsu.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-battery-recall-gateway.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-battery-recall-ibm.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-battery-recall-lenovo.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-battery-recall-toshiba.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-csr.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-hid.rules</div><div>read rules file: /usr/lib/udev/rules.d/95-upower-wup.rules</div><div>read rules file: /usr/lib/udev/rules.d/97-bluetooth-serial.rules</div><div>read rules file: /usr/lib/udev/rules.d/98-kexec.rules</div><div>read rules file: /usr/lib/udev/rules.d/98-rdma.rules</div><div>read rules file: /etc/udev/rules.d/99-my-asmdevices.rules</div><div>read rules file: /usr/lib/udev/rules.d/99-qemu-guest-agent.rules</div><div>read rules file: /usr/lib/udev/rules.d/99-systemd.rules</div><div>rules contain 393216 bytes tokens (32768 * 12 bytes), 38852 bytes strings</div><div>30460 strings (257150 bytes), 27006 de-duplicated (221753 bytes), 3455 trie nodes used</div><div>GROUP 6 /usr/lib/udev/rules.d/50-udev-default.rules:51</div><div>IMPORT 'scsi_id --export --whitelisted -d /dev/sdb' /usr/lib/udev/rules.d/60- persistent-storage.rules:40</div><div>starting 'scsi_id --export --whitelisted -d /dev/sdb'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out) 'ID_SCSI=1'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out) 'ID_VENDOR=VMware'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out) 'ID_VENDOR_ENC=VMware\x20\x20'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out) 'ID_MODEL=Virtual_disk'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out) 'ID_MODEL_ENC=Virtual\x20disk \x20\x20\x20\x20'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out) 'ID_REVISION=1.0'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out) 'ID_TYPE=disk'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out)  'ID_SERIAL=36000c294ae49672e100c14f8d1708ba0'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out)  'ID_SERIAL_SHORT=6000c294ae49672e100c14f8d1708ba0'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out) 'ID_WWN=0x6000c294ae49672e'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out)  'ID_WWN_VENDOR_EXTENSION=0x100c14f8d1708ba0'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out)  'ID_WWN_WITH_EXTENSION=0x6000c294ae49672e100c14f8d1708ba0'</div><div>'scsi_id --export --whitelisted -d /dev/sdb'(out)  'ID_SCSI_SERIAL=6000c294ae49672e100c14f8d1708ba0'</div><div>'scsi_id --export --whitelisted -d /dev/sdb' [24105] exit with return code 0</div><div>LINK 'disk/by-id/scsi-36000c294ae49672e100c14f8d1708ba0' /usr/lib/udev/rules.d/60- persistent-storage.rules:42</div><div>IMPORT builtin 'path_id' /usr/lib/udev/rules.d/60-persistent-storage.rules:58</div><div>LINK 'disk/by-path/pci-0000:02:01.0-scsi-0:0:0:0' /usr/lib/udev/rules.d/60-persistent- storage.rules:59</div><div>IMPORT builtin 'blkid' /usr/lib/udev/rules.d/60-persistent-storage.rules:73</div><div>probe /dev/sdb raid offset=0</div><div>LINK 'disk/by-id/wwn-0x6000c294ae49672e100c14f8d1708ba0' /usr/lib/udev/rules.d/60- persistent-storage.rules:83</div><div>PROGRAM '/usr/lib/udev/scsi_id -g -u -d /dev/sdb' /etc/udev/rules.d/99-my- asmdevices.rules:2</div><div>starting '/usr/lib/udev/scsi_id -g -u -d /dev/sdb'</div><div>'/usr/lib/udev/scsi_id -g -u -d /dev/sdb'(out) '36000c294ae49672e100c14f8d1708ba0'</div><div>'/usr/lib/udev/scsi_id -g -u -d /dev/sdb' [24106] exit with return code 0</div><div>RUN '/bin/sh -c 'mknod /dev/asmdisk01 b $major $minor; chown grid:oinstall  /dev/asmdisk01; chmod 0660 /dev/asmdisk01'' /etc/udev/rules.d/99-my-asmdevices.rules:2</div><div>PROGRAM '/usr/lib/udev/scsi_id -g -u -d /dev/sdb' /etc/udev/rules.d/99-my- asmdevices.rules:4</div><div>starting '/usr/lib/udev/scsi_id -g -u -d /dev/sdb'</div><div>'/usr/lib/udev/scsi_id -g -u -d /dev/sdb'(out) '36000c294ae49672e100c14f8d1708ba0'</div><div>'/usr/lib/udev/scsi_id -g -u -d /dev/sdb' [24107] exit with return code 0</div><div>handling device node '/dev/sdb', devnum=b8:16, mode=0660, uid=0, gid=6</div><div>set permissions /dev/sdb, 060660, uid=0, gid=6</div><div>preserve already existing symlink '/dev/block/8:16' to '../sdb'</div><div>found 'b8:16' claiming '/run/udev/links/\x2fdisk\x2fby-id\x2fscsi- 36000c294ae49672e100c14f8d1708ba0'</div><div>creating link '/dev/disk/by-id/scsi-36000c294ae49672e100c14f8d1708ba0' to '/dev/sdb'</div><div>preserve already existing symlink '/dev/disk/by-id/scsi- 36000c294ae49672e100c14f8d1708ba0' to '../../sdb'</div><div>found 'b8:16' claiming '/run/udev/links/\x2fdisk\x2fby-id\x2fwwn- 0x6000c294ae49672e100c14f8d1708ba0'</div><div>creating link '/dev/disk/by-id/wwn-0x6000c294ae49672e100c14f8d1708ba0' to '/dev/sdb'</div><div>preserve already existing symlink '/dev/disk/by-id/wwn- 0x6000c294ae49672e100c14f8d1708ba0' to '../../sdb'</div><div>found 'b8:16' claiming '/run/udev/links/\x2fdisk\x2fby-path\x2fpci-0000:02:01.0-scsi- 0:0:0:0'</div><div>creating link '/dev/disk/by-path/pci-0000:02:01.0-scsi-0:0:0:0' to '/dev/sdb'</div><div>preserve already existing symlink '/dev/disk/by-path/pci-0000:02:01.0-scsi-0:0:0:0' to  '../../sdb'</div><div>.ID_FS_TYPE_NEW=</div><div>ACTION=add</div><div>DEVLINKS=/dev/disk/by-id/scsi-36000c294ae49672e100c14f8d1708ba0 /dev/disk/by-id/wwn- 0x6000c294ae49672e100c14f8d1708ba0 /dev/disk/by-path/pci-0000:02:01.0-scsi-0:0:0:0</div><div>DEVNAME=/dev/sdb</div><div>DEVPATH=/devices/pci0000:00/0000:00:11.0/0000:02:01.0/host3/target3:0:0/3:0:0:0/block/sd b</div><div>DEVTYPE=disk</div><div>ID_BUS=scsi</div><div>ID_FS_TYPE=</div><div>ID_MODEL=Virtual_disk</div><div>ID_MODEL_ENC=Virtual\x20disk\x20\x20\x20\x20</div><div>ID_PART_TABLE_TYPE=dos</div><div>ID_PATH=pci-0000:02:01.0-scsi-0:0:0:0</div><div>ID_PATH_TAG=pci-0000_02_01_0-scsi-0_0_0_0</div><div>ID_REVISION=1.0</div><div>ID_SCSI=1</div><div>ID_SCSI_SERIAL=6000c294ae49672e100c14f8d1708ba0</div><div>ID_SERIAL=36000c294ae49672e100c14f8d1708ba0</div><div>ID_SERIAL_SHORT=6000c294ae49672e100c14f8d1708ba0</div><div>ID_TYPE=disk</div><div>ID_VENDOR=VMware</div><div>ID_VENDOR_ENC=VMware\x20\x20</div><div>ID_WWN=0x6000c294ae49672e</div><div>ID_WWN_VENDOR_EXTENSION=0x100c14f8d1708ba0</div><div>ID_WWN_WITH_EXTENSION=0x6000c294ae49672e100c14f8d1708ba0</div><div>MAJOR=8</div><div>MINOR=16</div><div>MPATH_SBIN_PATH=/sbin</div><div>SUBSYSTEM=block</div><div>TAGS=:systemd:</div><div>USEC_INITIALIZED=545736</div><div>run: '/bin/sh -c 'mknod /dev/asmdisk01 b 8 16; chown grid:oinstall /dev/asmdisk01; chmod  0660 /dev/asmdisk01''</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">unload module index</span></div><p style="color: rgb(51, 51, 51); font-family: tahoma, 宋体; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: justify; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(250, 250, 252);"></p><div>4.4 如果不再需要device可以手动删除device文件 </div><div>[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# /bin/rm /dev/asmdisk01</div><div>[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# /bin/rm /dev/asmdisk02</div><div>[<a href="mailto:root@linuxidc.com">root@linuxidc.com</a> dev]# ls -lrt asm*</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">ls: cannot access asm*: No such file or directory</span></div></div></span>
</div></body></html> 