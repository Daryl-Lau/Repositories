<html>
<head>
  <title>Oracle常用视图</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="531"/>
<h1>Oracle常用视图</h1>

<div>
<span><div><div><font style="font-size: 12pt;"><span style="min-height: 22pt; font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">Oracle</span><span style="min-height: 22pt; font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">常用视图</span></font></div><div><font style="font-size: 12pt;"><span style="min-height: 16pt; font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">Oracle</span><span style="min-height: 16pt; font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">常用数据字典表</span></font></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">1、查看当前用户的缺省表空间</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0);"><font style="font-size: 11pt;">SQL&gt; select username,default_tablespace from user_users;</font></span></div><div><br style="font-family: Monaco; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0);"><font style="font-size: 11pt;">USERNAME               DEFAULT_TABLESPACE</font></span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0);"><font style="font-size: 11pt;">------------------------------ ------------------------------</font></span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0);"><font style="font-size: 11pt;">SYS                    SYSTEM</font></span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 7mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">2、查看当前用户的角色</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0);"><font style="font-size: 11pt;">SQL&gt; select username,default_tablespace from user_users;</font></span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 7mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">3、查看当前用户的系统权限和表级权限</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from user_sys_privs;</span></div><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from user_tab_privs;</span></div></div><div style="margin-left: 7mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">4、查看用户下所有的表</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from user_tables;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">5、查看用户下所有的表的列属性</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from USER_TAB_COLUMNS where table_name=<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">:table_Name</span>;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">6、显示用户信息</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">(</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">所属表空间</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select default_tablespace, temporary_tablespace</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">  from dba_users</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">where username = 'SYS';</span></div><div><br style="font-size: 12pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">DEFAULT_TABLESPACE          TEMPORARY_TABLESPACE</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">------------------------------ ------------------------------</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SYSTEM                      TEMP</span></div></div><div style="margin-left: 4mm; margin-right: 0mm; text-indent: 0mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">7、显示当前会话所具有的权限</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from session_privs;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">8、显示指定用户所具有的系统权限</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from dba_sys_privs where grantee=<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">'GAME'</span>;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">9、显示特权用户</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from v$pwfile_users;</span></div><div><br style="font-size: 12pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">USERNAME               SYSDB SYSOP SYSAS</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">------------------------------ ----- ----- -----</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SYS                    TRUE  TRUE  FALSE</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">10、显示用户的</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">PROFILE</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select profile from dba_users where username='GAME';</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">表</span></span></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">1、查看用户下所有的表</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from user_tables;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">2、查看名称包含</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">log</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">字符的表</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select object_name,object_id from user_objects where instr(object_name,'LOG')&gt;0;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">3、查看某表的创建时间</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select object_name,created from user_objects where object_name=upper('&amp;table_name');</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">4、查看某表的大小</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select sum(bytes)/(1024*1024) as &quot;size(M)&quot; from user_segments where segment_name=upper('&amp;table_name');</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">5、查看放在</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">Oracle</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">的内存区里的表</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select table_name,cache from user_tables where instr(cache,'Y')&gt;0;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><div><br/></div></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">索引</span></span></div><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt;"><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">查看索引个数和类别</span></span></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select index_name,index_type,table_name from user_indexes order by table_name;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><br/></div><ol start="2" style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt;"><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">查看索引被索引的字段</span></span></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from user_ind_columns where index_name=upper('&amp;index_name');</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><br/></div><ol start="3" style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt;"><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">查看索引的大小</span></span></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select sum(bytes)/(1024*1024) as &quot;size(M)&quot; from user_segments where segment_name=upper('&amp;index_name');</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><br/></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">序列号</span></span></div><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt;"><div><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看序列号，</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">last_number</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">是当前值</span></font></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(1, 1, 1);"><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from user_sequences;</span></span></div></div><div><br/></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">视图</span></span></div><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt;"><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">查看视图的名称</span></span></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select view_name from user_views;</span></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><br/></div><ol start="2" style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt;"><div><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看创建视图的</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">select</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">语句</span></font></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SQL&gt;set view_name,text_length from user_views;</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SQL&gt;set long 2000;          说明：可以根据视图的text_length值设定set long 的大小</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SQL&gt;select text from user_views where view_name=upper('&amp;view_name');</font></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><br/></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">同义词</span></span></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">查看同义词的名称</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt; color: rgb(1, 1, 1);"><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select * from user_synonyms;</span></span></div></div><div><br/></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">约束条件</span></span></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">查看某表的约束条件</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SQL&gt;select constraint_name, constraint_type,search_condition, r_constraint_name</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from user_constraints where table_name = upper('&amp;table_name');</font></div><div><br/></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SQL&gt;select c.constraint_name,c.constraint_type,cc.column_name</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from user_constraints c,user_cons_columns cc</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">where c.owner = upper('&amp;table_owner') and c.table_name = upper('&amp;table_name')</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">and c.owner = cc.owner and c.constraint_name = cc.constraint_name</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">order by cc.position;</font></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><br/></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">存储函数和过程</span></span></div><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt;"><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">查看函数和过程的状态</span></span></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div style="color: rgb(1, 1, 1); font-size: 12pt;"><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select object_name,status from user_objects where object_type='FUNCTION';</span></div><div style="color: rgb(1, 1, 1); font-size: 12pt;"><br/></div><div><span style="text-indent: 6mm; min-height: 15pt;"><font style="font-size: 11pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(50, 135, 18);">SQL&gt;select object_name,status from user_objects where object_type='PROCEDURE';</font></span></div></div><div><br/></div><ol start="2" style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt;"><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">查看函数和过程的源代码</span></span></div></li></ol><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SQL&gt;select text from all_source where owner=user and name=upper('&amp;plsql_name');</font></div></div><div style="margin-left: 0mm; margin-right: 0mm; text-indent: 6mm; margin-top: 0.00mm; margin-bottom: 0.00mm; min-height: 15pt;"><br/></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">常用的数据字典：</span></span></div><div style="min-height: 15pt;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_data_files:通常用来查询关于数据库文件的信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_db_links:包括数据库中的所有数据库链路，也就是databaselinks。</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_extents:数据库中所有分区的信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_free_space:所有表空间中的自由分区</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_indexs:关于数据库中所有索引的描述</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_ind_columns:在所有表及聚集上压缩索引的列</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_objects:数据库中所有的对象</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_rollback_segs:回滚段的描述</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_segments:所有数据库段分段的存储空间</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_synonyms:关于同义词的信息查询</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_tables:数据库中所有数据表的描述</font></div><div><font style="font-size: 11pt; font-family: &quot;DejaVu Sans Mono&quot;;">dba_tablespaces:关于表空间的信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_tab_columns:所有表描述、视图以及聚集的列</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_tab_grants/privs:对象所授予的权限</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_ts_quotas:所有用户表空间限额</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_users:关于数据的所有用户的信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">dba_views:数据库中所有视图的文本</font></div></div><div style="min-height: 15pt;"><br/></div><div><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">常用的动态性能视图：</span></span></div><div style="min-height: 15pt;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$datafile：数据库使用的数据文件信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$librarycache：共享池中SQL语句的管理信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$lock：通过访问数据库会话，设置对象锁的所有信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$log：从控制文件中提取有关重做日志组的信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$logfile有关实例重置日志组文件名及其位置的信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$parameter：初始化参数文件中所有项的值</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$process：当前进程的信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$rollname：回滚段信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$rollstat：联机回滚段统计信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$rowcache：内存中数据字典活动/性能信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$session:有关会话的信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$sesstat：在v$session中报告当前会话的统计信息</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$sqlarea：共享池中使用当前光标的统计信息，光标是一块内存区域，有Oracle处理SQL语句时打开。</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$statname：在v$sesstat中报告各个统计的含义</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$sysstat：基于当前操作会话进行的系统统计</font></div><div><font face="DejaVu Sans Mono" style="font-size: 11pt;">v$waitstat：出现一个以上会话访问数据库的数据时的详细情况。当有一个以上的会话访问同一信息时，可出现等待情况。</font></div></div><div style="min-height: 15pt;"><br/></div><div><font style="font-size: 12pt;"><span style="min-height: 16pt; font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">常用</span><span style="min-height: 16pt; font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">SQL</span><span style="min-height: 16pt; font-size: 12pt; color: rgb(1, 1, 1); font-weight: bold;">查询：</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">1</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、查看表空间的名称及大小</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select t.tablespace_name, round(sum(bytes/(1024*1024)),0) ts_size</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">from dba_tablespaces t, dba_data_files d</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">where t.tablespace_name = d.tablespace_name</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">group by t.tablespace_name;</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">3</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、查看回滚段名称及大小</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select segment_name, tablespace_name, r.status,</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">(initial_extent/1024) InitialExtent,(next_extent/1024) NextExtent,</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">max_extents, v.curext CurExtent</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">From dba_rollback_segs r, v$rollstat v</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">Where r.segment_id = v.usn(+)</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">order by segment_name;</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">4</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、查看控制文件</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select name from v$controlfile;</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">NAME</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">--------------------------------------------------------------------------------</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">/oracle/11g/oradata/oracle/control01.ctl</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">/oracle/11g/flash_recovery_area/oracle/control02.ctl</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">5</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、查看日志文件</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select member from v$logfile;</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">MEMBER</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">--------------------------------------------------------------------------------</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">/oracle/11g/oradata/oracle/redo03.log</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">/oracle/11g/oradata/oracle/redo02.log</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">/oracle/11g/oradata/oracle/redo01.log</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">6</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、查看表空间的使用情况</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select sum(bytes)/(1024*1024) as free_space,tablespace_name</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">from dba_free_space</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">group by tablespace_name;</span></div><div><br/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">FREE_SPACE TABLESPACE_NAME</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">---------- ------------------------------</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">   29.5625 SYSAUX</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">      70.5 UNDOTBS1</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">    3.6875 USERS</span></div><div><br/></div><div><br/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; SELECT A.TABLESPACE_NAME,A.BYTES TOTAL,B.BYTES USED, C.BYTES FREE,</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">(B.BYTES*100)/A.BYTES &quot;% USED&quot;,(C.BYTES*100)/A.BYTES &quot;% FREE&quot;</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">FROM SYS.SM$TS_AVAIL A,SYS.SM$TS_USED B,SYS.SM$TS_FREE C</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">WHERE A.TABLESPACE_NAME=B.TABLESPACE_NAME AND A.TABLESPACE_NAME=C.TABLESPACE_NAME;</span></div><div><br/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">TABLESPACE_NAME                TOTAL       USED      FREE      % USED     % FREE</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">------------------------------ ---------- ---------- ---------- ---------- ----------</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SYSAUX                     524288000  492240896   30998528    93.8875     5.9125</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">UNDOTBS1                    78643200    3670016   73924608 4.66666667         94</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">USERS                        5242880     327680    3866624       6.25      73.75</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">7</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、查看数据库库对象</span></font></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">select owner, object_type, status, count(*) count# from all_objects group by owner, object_type, status;</span></span></div><div style="min-height: 15pt;"><div><br/></div></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">8</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、查看数据库的版本　</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; Select version FROM Product_component_version</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">Where SUBSTR(PRODUCT,1,6)='Oracle';</span></div><div><br/></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">VERSION</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">---------------------------------------------------------------------------------------------------------------------------------</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">11.2.0.1.0</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">9</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、查看数据库的创建日期和归档方式</span></font></div><div style="min-height: 15pt;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 12pt;"><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select created, log_mode from v$database;</span></font></div></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">10</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">、捕捉运行很久的</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">SQL</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 11pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(50, 135, 18);">column username format a12</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">column opname format a16</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">column progress format a8</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select username,sid,opname,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">round(sofar*100 / totalwork,0) || '%' as progress,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">time_remaining,sql_text</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from v$session_longops , v$sql</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">where time_remaining &lt;&gt; 0</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">and sql_address = address</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">and sql_hash_value = hash_value;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">11、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看数据表的参数信息</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SELECT   partition_name, high_value, high_value_length, tablespace_name,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">pct_free, pct_used, ini_trans, max_trans, initial_extent,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">next_extent, min_extent, max_extent, pct_increase, FREELISTS,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">freelist_groups, LOGGING, BUFFER_POOL, num_rows, blocks,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">empty_blocks, avg_space, chain_cnt, avg_row_len, sample_size,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">last_analyzed</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">FROM dba_tab_partitions</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">--WHERE table_name = :tname AND table_owner = :towner</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">ORDER BY partition_position;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">12、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看还没提交的事务</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select * from v$locked_object;</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select * from v$transaction;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">13、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查找</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">object</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">为哪些进程所用</span></font></div><div style="min-height: 15pt;"><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">p.spid,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.sid,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.serial# serial_num,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.username user_name,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">a.type  object_type,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.osuser os_user_name,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">a.owner,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">a.object object_name,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">decode(sign(48 - command),</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">to_char(command), 'Action Code #' || to_char(command) ) action,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">p.program oracle_process,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.terminal terminal,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.program program,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.status session_status  </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from v$session s, v$access a, v$process p  </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">where s.paddr = p.addr and</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.type = 'USER' and   </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">a.sid = s.sid   and</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">a.object='SUBSCRIBER_ATTR'</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">order by s.username, s.osuser;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">14、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">回滚段查看</span></font></div><div style="min-height: 15pt;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select rownum, sys.dba_rollback_segs.segment_name Name, v$rollstat.extents</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">Extents, v$rollstat.rssize Size_in_Bytes, v$rollstat.xacts XActs,</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">v$rollstat.gets Gets, v$rollstat.waits Waits, v$rollstat.writes Writes,</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">sys.dba_rollback_segs.status status from v$rollstat, sys.dba_rollback_segs,</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">v$rollname where v$rollname.name(+) = sys.dba_rollback_segs.segment_name and</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">v$rollstat.usn (+) = v$rollname.usn order by rownum;</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">15、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">耗资源的进程（</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">top session</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">）</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select s.schemaname schema_name,    decode(sign(48 - command),</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">to_char(command), 'Action Code #' || to_char(command) ) action,    status</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">session_status,   s.osuser os_user_name,   s.sid,         p.spid ,         s.serial# serial_num, </span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">nvl(s.username, '[Oracle process]') user_name,   s.terminal terminal,  </span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">s.program program,   st.value criteria_value  from v$sesstat st,   v$session s  , v$process p </span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">where st.sid = s.sid and  st.statistic# = to_number('38') and   ('ALL' = 'ALL'</span></div><div><span style="font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">or s.status = 'ALL') and p.addr = s.paddr order by st.value desc,  p.spid asc, s.username asc, s.osuser asc;</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">16、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看锁（</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">lock</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">）情况</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select /*+ RULE */ ls.osuser os_user_name,   ls.username user_name,  </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">decode(ls.type, 'RW', 'Row wait enqueue lock', 'TM', 'DML enqueue lock', 'TX',</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">'Transaction enqueue lock', 'UL', 'User supplied lock') lock_type,  </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">o.object_name object,   decode(ls.lmode, 1, null, 2, 'Row Share', 3,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">'Row Exclusive', 4, 'Share', 5, 'Share Row Exclusive', 6, 'Exclusive', null)</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">lock_mode,    o.owner,   ls.sid,   ls.serial# serial_num,   ls.id1,   ls.id2   </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from sys.dba_objects o, (   select s.osuser,    s.username,    l.type,    </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">l.lmode,    s.sid,    s.serial#,    l.id1,    l.id2   from v$session s,    </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">v$lock l   where s.sid = l.sid ) ls  where o.object_id = ls.id1 and    o.owner</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">&lt;&gt; 'SYS'   order by o.owner, o.object_name;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">17、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看等待（</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">wait</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">）情况</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SELECT v$waitstat.class, v$waitstat.count count, SUM(v$sysstat.value) sum_value</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">FROM v$waitstat, v$sysstat WHERE v$sysstat.name IN ('db block gets',</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">'consistent gets') group by v$waitstat.class, v$waitstat.count;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">18、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">sga</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">情况</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; SELECT NAME, BYTES FROM SYS.V_$SGASTAT ORDER BY NAME ASC;</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">19、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">catched object</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; SELECT owner, name, db_link, namespace, type, sharable_mem, loads, executions, locks, pins, kept FROM v$db_object_cache;</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">         </span></span></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">20、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">V$SQLAREA</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">SELECT SQL_TEXT, SHARABLE_MEM, PERSISTENT_MEM, RUNTIME_MEM, SORTS,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">VERSION_COUNT, LOADED_VERSIONS, OPEN_VERSIONS, USERS_OPENING, EXECUTIONS,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">USERS_EXECUTING, LOADS, FIRST_LOAD_TIME, INVALIDATIONS, PARSE_CALLS, DISK_READS,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">BUFFER_GETS, ROWS_PROCESSED FROM V$SQLAREA;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">21</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">。查看</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">object</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">分类数量</span></font></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">select decode (o.type#,1,'INDEX' , 2,'TABLE' , 3 , 'CLUSTER' , 4, 'VIEW' , 5 ,</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">'SYNONYM' , 6 , 'SEQUENCE' , 'OTHER' ) object_type , count(*) quantity from</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">sys.obj$ o where o.type# &gt; 1 group by decode (o.type#,1,'INDEX' , 2,'TABLE' , 3</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">, 'CLUSTER' , 4, 'VIEW' , 5 , 'SYNONYM' , 6 , 'SEQUENCE' , 'OTHER' ) union select</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">'COLUMN' , count(*) from sys.col$ union select 'DB LINK' , count(*) from</span></span></div><div style="min-height: 15pt;"><div><br/></div></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">22</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">。按用户查看</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">object</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">种类</span></font></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">select u.name schema,   sum(decode(o.type#, 1, 1, NULL)) indexes,  </span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">sum(decode(o.type#, 2, 1, NULL)) tables,   sum(decode(o.type#, 3, 1, NULL))</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">clusters,   sum(decode(o.type#, 4, 1, NULL)) views,   sum(decode(o.type#, 5, 1,</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">NULL)) synonyms,   sum(decode(o.type#, 6, 1, NULL)) sequences,  </span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">sum(decode(o.type#, 1, NULL, 2, NULL, 3, NULL, 4, NULL, 5, NULL, 6, NULL, 1))</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">others   from sys.obj$ o, sys.user$ u   where o.type# &gt;= 1 and    u.user# =</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">o.owner# and   u.name &lt;&gt; 'PUBLIC'   group by u.name    order by</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">sys.link$ union select 'CONSTRAINT' , count(*) from sys.con$;</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">23</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">有关</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">connection</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">的相关信息</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">1</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">）查看有哪些用户连接</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select s.osuser os_user_name,    decode(sign(48 - command), 1, to_char(command),</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">'Action Code #' || to_char(command) ) action,     p.program oracle_process,    </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">status session_status,    s.terminal terminal,    s.program program,   </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">s.username user_name,    s.fixed_table_sequence activity_meter,    '' query,   </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">0 memory,    0 max_memory,     0 cpu_usage,    s.sid,   s.serial# serial_num   </font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from v$session s,    v$process p   where s.paddr=p.addr and    s.type = 'USER'</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">order by s.username, s.osuser;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">2</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">）根据</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">v.sid</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看对应连接的资源占用等情况</span></font></div><div style="min-height: 15pt;"><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select n.name,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">v.value,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">n.class,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">n.statistic#</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from  v$statname n,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">v$sesstat v</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">where v.sid = 71 and</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">v.statistic# = n.statistic#</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">order by n.class, n.statistic#;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">3</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">）根据</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">sid</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看对应连接正在运行的</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">sql</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select /*+ PUSH_SUBQ */</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">command_type,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sql_text,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sharable_mem,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">persistent_mem,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">runtime_mem,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sorts,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">version_count,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">loaded_versions,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">open_versions,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">users_opening,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">executions,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">users_executing,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">loads,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">first_load_time,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">invalidations,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">parse_calls,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">disk_reads,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">buffer_gets,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">rows_processed,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sysdate start_time,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sysdate finish_time,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">'&gt;' || address sql_address,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">'N' status</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from v$sqlarea</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">where address = (select sql_address from v$session where sid = 71);</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);"> </span></span></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">2</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">）根据</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">v.sid</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看对应连接的资源占用等情况</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select n.name,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">v.value,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">n.class,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">n.statistic#</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from  v$statname n,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">v$sesstat v</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">where v.sid = 71 and</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">v.statistic# = n.statistic#</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">order by n.class, n.statistic#;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">3</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">）根据</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">sid</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查看对应连接正在运行的</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">sql</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select /*+ PUSH_SUBQ */</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">command_type,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sql_text,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sharable_mem,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">persistent_mem,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">runtime_mem,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sorts,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">version_count,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">loaded_versions,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">open_versions,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">users_opening,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">executions,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">users_executing,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">loads,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">first_load_time,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">invalidations,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">parse_calls,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">disk_reads,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">buffer_gets,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">rows_processed,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sysdate start_time,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">sysdate finish_time,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">'&gt;' || address sql_address,</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">'N' status</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">from v$sqlarea</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">where address = (select sql_address from v$session where sid = 71);</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">24</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">．查询表空间使用情况</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">select a.tablespace_name &quot;</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">表空间名称</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">&quot;,</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">100-round((nvl(b.bytes_free,0)/a.bytes_alloc)*100,2) &quot;</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">占用率</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">(%)&quot;,</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">round(a.bytes_alloc/1024/1024,2) &quot;</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">容量</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">(M)&quot;,</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">round(nvl(b.bytes_free,0)/1024/1024,2) &quot;</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">空闲</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">(M)&quot;,</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">round((a.bytes_alloc-nvl(b.bytes_free,0))/1024/1024,2) &quot;</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">使用</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">(M)&quot;,</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">Largest &quot;</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">最大扩展段</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">(M)&quot;,</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">to_char(sysdate,'yyyy-mm-dd hh24:mi:ss') &quot;</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">采样时间</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">&quot;</span></font></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">from  (select f.tablespace_name,</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">sum(f.bytes) bytes_alloc,</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">sum(decode(f.autoextensible,'YES',f.maxbytes,'NO',f.bytes)) maxbytes</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">from dba_data_files f</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">group by tablespace_name) a,</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">(select  f.tablespace_name,</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">sum(f.bytes) bytes_free</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">from dba_free_space f</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">group by tablespace_name) b,</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">(select round(max(ff.length)*16/1024,2) Largest,</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">ts.name tablespace_name</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">from sys.fet$ ff, sys.file$ tf,sys.ts$ ts</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">where ts.ts#=ff.ts# and ff.file#=tf.relfile# and ts.ts#=tf.ts#</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">group by ts.name, tf.blocks) c</span></span></div><div style="min-height: 15pt;"><span style="min-height: 15pt;"><span style="font-size: 12pt; color: rgb(1, 1, 1);">where a.tablespace_name = b.tablespace_name and a.tablespace_name = c.tablespace_name</span></span></div><div style="min-height: 15pt;"><div><br/></div></div><div style="min-height: 15pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">25、</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查询表空间的碎片程度</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select tablespace_name,count(tablespace_name) from dba_free_space group by tablespace_name</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">having count(tablespace_name)&gt;10;</font></div><div><br/></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">alter tablespace name coalesce;</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">alter table name deallocate unused;</font></div><div><br/></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">create or replace view ts_blocks_v as</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select tablespace_name,block_id,bytes,blocks,'free space' segment_name from dba_free_space</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">union all</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select tablespace_name,block_id,bytes,blocks,segment_name from dba_extents;</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select * from ts_blocks_v;</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select tablespace_name,sum(bytes),max(bytes),count(block_id) from dba_free_space</font></div><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">group by tablespace_name;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">26</span></font></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">//</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">查询有哪些数据库实例在运行</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#328712" face="DejaVu Sans Mono" style="font-size: 11pt;">select inst_name from v$active_instances;</font></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">//</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">取得服务器的</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">IP</span> <span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">地址</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select utl_inaddr.get_host_address from dual;</span></div></div><div style="min-height: 15pt;"><br/></div><div style="min-height: 15pt;"><font style="font-size: 12pt;"><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">//</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">取得客户端的</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">IP</span><span style="min-height: 15pt; font-size: 12pt; color: rgb(1, 1, 1);">地址</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 13pt; font-family: &quot;DejaVu Sans Mono&quot;; color: rgb(0, 128, 0); font-size: 11pt;">SQL&gt; select sys_context('userenv','host'),sys_context('userenv','ip_address') from dual;</span></div></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 