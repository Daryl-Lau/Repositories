<html>
<head>
  <title>normal 、sysdba、 sysoper之间的区别</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="521"/>
<h1>normal 、sysdba、 sysoper之间的区别</h1>

<div>
<span><div>normal 、sysdba、 sysoper之间的区别</div><div><br/></div><div>sys和system用户的区别</div><div>【system】用户只能用normal身份登陆em。</div><div>【sys】用户具有“SYSDBA”或者“SYSOPER”权限，登陆em也只能用这两个身份，不能用normal。</div><div>“SYSOPER”权限，即数据库操作员权限，权限包括：</div><div>打开数据库服务器 关闭数据库服务器</div><div>备份数据库 恢复数据库</div><div>日志归档 会话限制</div><div>“SYSDBA”权限，即数据库管理员权限，权限包括：</div><div>打开数据库服务器 关闭数据库服务器</div><div>备份数据库 恢复数据库</div><div>日志归档 会话限制</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">管理功能创建数据库</span></div><div><br style="margin: 0px; padding: 0px;"/></div><div>normal 、sysdba、 sysoper有什么区别</div><div>normal 是普通用户</div><div>另外两个，你考察他们所具有的权限就知道了</div><div>sysdba拥有最高的系统权限</div><div>sysoper主要用来启动、关闭数据库，sysoper 登陆后用户是 public</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">sysdba登陆后是 sys</span></div><div>SQL&gt; conn / as sysdba</div><div>已连接。</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">SQL&gt; grant sysoper to test;</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">授权成功。</span></div><div>SQL&gt; conn test/test as sysoper;</div><div>已连接。</div><div>SQL&gt; show user</div><div>USER 为&quot;PUBLIC&quot;</div><div>SQL&gt; conn test/test as sysdba</div><div>已连接。</div><div>SQL&gt; show user</div><div>USER 为&quot;SYS&quot;</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">SQL&gt;</span></div><div>dba和sysdba的区别</div><div>dba、sysdba这两个系统角色有什么区别呢</div><div>在说明这一点之前我需要说一下oracle服务的创建过程</div><div>·创建实例</div><div>·启动实例</div><div>·创建数据库(system表空间是必须的)</div><div>启动过程</div><div>·实例启动</div><div>·装载数据库</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">·打开数据库</span></div><div>sysdba，是管理oracle实例的，它的存在不依赖于整个数据库完全启动，</div><div>只要实例启动了，他就已经存在，以sysdba身份登陆，装载数据库、打开数据库</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">只有数据库打开了，或者说整个数据库完全启动后，dba角色才有了存在的基础！</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">///////////////////////////////////////////////////////////</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">看见Csdn的Oracle技术版块有人提出关于dba和sysdba的一些困惑，这里详细的介绍一下两者的区别。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">dba是Oracle里的一种对象，Role 和User一样，是实实在在存在在Oracle里的物理对象，而sysdba是指的一种概念上的操作对象，在Oracle数据里并不存在。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">所以说这两个概念是完全不同的。dba是一种role对应的是对Oracle实例里对象的操作权限的集合，而sysdba是概念上的role是一种登录认证时的身份标识而已。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">下面我们通过详细的实例来看看他们的区别</span></div><div>1.</div><div>物理上的role dba 是可以在数据字典里查到的</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">SQL&gt; select * from dba_roles where upper(role) = ‘DBA’;</span></div><div>ROLE PASSWORD</div><div>—————————— ——–</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">DBANO</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">而sysdba是概念上的role在数据字典里是查不到的</span></div><div>SQL&gt; select * from dba_roles where upper(role) = ‘SYSDBA’;</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">no rows selected</span></div><div>2.</div><div>grant dba 和grant sysdba的差别</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">dba是正真的role，所以grant后在dba_role_privs里有记录,而revoke后就没有了</span></div><div>SQL&gt; grant dba to testuser;</div><div>SQL&gt; select * from dba_role_privs where grantee = ‘TESTUSER’;</div><div>GRANTEE GRANTED_ROLE ADM DEF</div><div>—————————— —————————— — —</div><div>TESTUSER RESOURCE NO YES</div><div>TESTUSER CONNECT NO YES</div><div>TESTUSER DBA NO YES</div><div>SQL&gt; revoke dba from testuser;</div><div>SQL&gt; select * from dba_role_privs where grantee = ‘TESTUSER’;</div><div>GRANTEE GRANTED_ROLE ADM DEF</div><div>—————————— —————————— — —</div><div>TESTUSER RESOURCE NO YES</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">TESTUSERCONNECTNOYES</span></div><div>对于sysdba是不会出现这个情况的，因为他不是正真的role</div><div>SQL&gt; grant sysdba to testuser;</div><div>SQL&gt; select * from dba_role_privs where grantee = ‘TESTUSER’;</div><div>GRANTEE GRANTED_ROLE ADM DEF</div><div>—————————— —————————— — —</div><div>TESTUSER RESOURCE NO YES</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">TESTUSERCONNECTNOYES</span></div><div>那么这个是sysdba是这么记录的叻，</div><div>我在一个文章和帖子里对对sysdba的登录有过详细的叙述</div><div>对了，sysdba是登录时候需要的他是和remote_login_passwordfile关联的</div><div>我们可以查询v$pwfile_users;</div><div>如下：</div><div>SQL&gt; select * from v$pwfile_users;</div><div>USERNAME SYSDB SYSOP</div><div>—————————— —– —–</div><div>SYS TRUE TRUE</div><div>SYSTEM TRUE FALSE</div><div>TESTUSER TRUE FALSE</div><div>当你grant sysdba后，在这里就多了一条</div><div>下面我们revoke一下，再来看</div><div>SQL&gt; revoke sysdba from testuser;</div><div>SQL&gt; select * from v$pwfile_users;</div><div>USERNAME SYSDB SYSOP</div><div>—————————— —– —–</div><div>SYS TRUE TRUE</div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">SYSTEMTRUEFALSE</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">没有叻。</span></div><div style="margin: 10px auto; padding: 0px; text-indent: 0px;"><span style="text-indent: 0px;">所以在这里dba和sysdba是根本不同概念了</span></div><div><br/></div></span>
</div></body></html> 