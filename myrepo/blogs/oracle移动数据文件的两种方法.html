<html>
<head>
  <title>oracle移动数据文件的两种方法</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/307027 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="442"/>
<h1>oracle移动数据文件的两种方法</h1>

<div>
<span><div><div><span style="box-sizing: border-box; outline: 0px; font-size: 16px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 26px;">oracle移动数据文件的两种方法</span></div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 36px;">1.alter database方法</span></h1><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; font-size: 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-size: 16px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 26px;">该方法，可以移动任何表空间的数据文件。</span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; font-size: 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">***关闭数据库***</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; shutdown immediate</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database closed.</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database dismounted.</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">ORACLE instance shut down.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">***移动数据文件，用oracle用户操作***</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">[oracle@test ~]$ mv /u01/app/oracle/oradata/test/system01.dbf /oracledb/test/system01.dbf</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">[oracle@test ~]$ mv /u01/app/oracle/oradata/test/sysaux01.dbf /oracledb/test/sysaux01.dbf</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">[oracle@test ~]$ mv /u01/app/oracle/oradata/test/undotbs01.dbf /oracledb/test/undotbs01.dbf</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">[oracle@test ~]$ mv /u01/app/oracle/oradata/test/users01.dbf /oracledb/test/users01.dbf</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">[oracle@test ~]$ mv /u01/app/oracle/oradata/test/temp01.dbf /oracledb/test/temp01.dbf</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">[oracle@test ~]$ mv /u01/app/oracle/oradata/test/redo03.log /oracledb/test/redo03.log</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">[oracle@test ~]$ mv /u01/app/oracle/oradata/test/redo02.log /oracledb/test/redo02.log</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">[oracle@test ~]$ mv /u01/app/oracle/oradata/test/redo01.log /oracledb/test/redo01.log</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">***启动到mount状态***</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; startup mount</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">ORACLE instance started.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Total System Global Area 1.0122E+10 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Fixed Size                  2237088 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Variable Size            1610616160 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database Buffers         8489271296 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Redo Buffers               19468288 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database mounted.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database rename file '/u01/app/oracle/oradata/test/system01.dbf' to '/oracledb/test/system01.dbf';</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database rename file '/u01/app/oracle/oradata/test/sysaux01.dbf' to '/oracledb/test/sysaux01.dbf';</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database rename file '/u01/app/oracle/oradata/test/undotbs01.dbf' to '/oracledb/test/undotbs01.dbf';</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database rename file '/u01/app/oracle/oradata/test/users01.dbf' to '/oracledb/test/users01.dbf';</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database rename file '/u01/app/oracle/oradata/test/temp01.dbf' to '/oracledb/test/temp01.dbf';</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database rename file '/u01/app/oracle/oradata/test/redo01.log' to '/oracledb/test/redo01.log';</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database rename file '/u01/app/oracle/oradata/test/redo02.log' to '/oracledb/test/redo02.log';</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database rename file '/u01/app/oracle/oradata/test/redo03.log' to '/oracledb/test/redo03.log';</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; alter database open;</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database altered.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">***重启验证***</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; shutdown immediate;</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database closed.</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database dismounted.</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">ORACLE instance shut down.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">SQL&gt; startup</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">ORACLE instance started.</span></div><div><br style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Total System Global Area 1.0122E+10 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Fixed Size                  2237088 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Variable Size            1610616160 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database Buffers         8489271296 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Redo Buffers               19468288 bytes</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database mounted.</span></div><div><span style="font-family: Consolas; font-size: 11pt; color: rgb(51, 51, 51);">Database opened.</span></div></div><div><br/></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; font-size: 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><br/></div><div><br/></div></div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 36px;">2.alter tablespace方法</span></h1><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; font-size: 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-size: 16px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 26px;">该方法，不能移动system表空间，回滚段表空间和临时段表空间的数据文件。</span></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 0px 0px 16px; font-size: 16px; text-align: justify; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">***offline system表空间时报错***</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">SQL&gt; alter tablespace system offline;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alter tablespace system offline</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">*</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">ERROR at line 1:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">ORA-01541: system tablespace cannot be brought offline; shut down if necessary</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">报错：说明system表空间不能offline</span></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#E30000">***由此说明一下system表空间的特性</font></span></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#E30000">--不能脱机offline</font></span></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#E30000">--不能置为只读read only</font></span></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#E30000">--不能重命名</font></span></div><div><span style="font-family: Monaco; font-size: 9pt;"><font color="#E30000">--不能删除</font></span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">SQL&gt; alter tablespace sysaux offline;</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Tablespace altered.</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">[oracle@test ~]$ cp /oracledb/test/sysaux01.dbf /u01/app/oracle/oradata/test/sysaux01.dbf</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">SQL&gt; alter tablespace sysaux rename datafile '/oracledb/test/sysaux01.dbf' to '/u01/app/oracle/oradata/test/sysaux01.dbf';</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Tablespace altered.</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">SQL&gt; alter tablespace sysaux online;</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">Tablespace altered.</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">***offline UNDO表空间时报错***</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">SQL&gt; alter tablespace UNDOTBS1 offline;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alter tablespace UNDOTBS1 offline</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">*</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">ERROR at line 1:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">ORA-30042: Cannot offline the undo tablespace</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">***offline TEMP表空间时报错***</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">SQL&gt; alter tablespace TEMP offline;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">alter tablespace TEMP offline</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">*</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">ERROR at line 1:</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">ORA-03217: invalid option for alter of TEMPORARY TABLESPACE</span></div><div><br/></div></div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">分为4个步骤</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">1）把需要移动的数据文件对应的表空间offline</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">SQL&gt; alter tablespace USERS offline;</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">Tablespace altered.</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">2）移动数据文件至目标位置</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">[oracle@test ~]$ cp /oracledb/test/users01.dbf /u01/app/oracle/oradata/test/users01.dbf</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">3）修改表空间中数据文件的位置</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">SQL&gt; alter tablespace USERS rename datafile '/oracledb/test/users01.dbf' to '/u01/app/oracle/oradata/test/users01.dbf';</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">Tablespace altered.</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">4）把表空间online</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">SQL&gt; alter tablespace users online;</span></h1><div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); font-weight: normal;">Tablespace altered.</span></h1></div></div></div></div></div></div></div></div></div></div></div></div></div><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; outline: 0px; font-size: 28px; word-break: break-all; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 36px;">3.总结</span></h1><h1 style="box-sizing: border-box; outline: 0px; padding: 0px; margin: 8px 0px 16px; word-break: break-all; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-weight: normal; font-size: 12pt;">alter database方法可以移动任何表空间的数据文件，但其要求数据库必须处于mount状态，故此种方法更适合做整体数据库的迁移。</span></h1><div><span style="box-sizing: border-box; outline: 0px; word-break: break-all;"><span style="font-size: 12pt;">alter tablespace方法需要数据库处于open状态，表空间在offline的状态下才可更改。但其不能移动system表空间，undo表空间和temp表空间的数据文件，故此种方法更适合于做用户数据文件的迁移。</span></span></div></div><div><br/></div></span>
</div></body></html> 